!function(){if(window.__polliInjected)return;window.__polliInjected=!0;let n=[{role:"system",content:"give very concise responses without markdown."}];function e(){const e=document.getElementById("polli-chat-widget");e?e.remove():function(){if(document.getElementById("polli-chat-widget"))return;const e=document.createElement("div");e.id="polli-chat-widget",e.style.position="fixed",e.style.top="120px",e.style.left="120px",e.style.width="380px",e.style.height="100px",e.style.background="#fff",e.style.border="1px solid #000",e.style.display="flex",e.style.flexDirection="column",e.style.zIndex="999999",e.style.fontFamily="Arial, sans-serif",e.style.color="#000",e.innerHTML='\n<style>\n#polli-chat {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  font-family: sans-serif;\n}\n\n#polli-chat * {\n  border-radius: 0 !important;\n}\n\n#polli-header {\n  padding: 8px;\n  border-bottom: 1px solid #000;\n  cursor: move;\n  font-weight: bold;\n  display: flex;\n  justify-content: space-between;\n}\n\n#polli-close {\n  cursor: pointer;\n}\n\n#polli-messages {\n  flex: 1;\n  padding: 8px;\n  overflow: auto;\n  font-size: 14px;\n}\n\n#polli-input-row {\n  display: flex;\n  border-top: 1px solid #000;\n}\n\n#polli-input {\n  flex: 1;\n  border: none;\n  border-right: 1px solid #000;\n  padding: 8px;\n  outline: none;\n  color: #000;\n  background: #fff !important;\n  border-radius: 0 !important;\n}\n\n#polli-send {\n  border: none;\n  padding: 8px 12px;\n  background: #fff !important;\n  color: #000;\n  cursor: pointer;\n  border-radius: 0 !important;\n}\n</style>\n\n<div id="polli-chat">\n  <div id="polli-header">\n    AI Chat\n    <span id="polli-close">Ã—</span>\n  </div>\n  <div id="polli-messages"></div>\n  <div id="polli-input-row">\n    <input id="polli-input" placeholder="Type..." />\n    <button id="polli-send">Send</button>\n  </div>\n</div>\n',document.body.appendChild(e),document.getElementById("polli-close").onclick=()=>e.remove();const t=document.getElementById("polli-messages"),o=document.getElementById("polli-input");function i(n,e){const o=document.createElement("div");o.style.marginBottom="6px",o.innerHTML="<b>"+("user"===n?"You":"AI")+":</b> "+e,t.appendChild(o),t.scrollTop=t.scrollHeight}async function l(){const e=o.value.trim();if(e){i("user",e),n.push({role:"user",content:e}),o.value="";try{const e=await fetch("https://text.pollinations.ai/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"openai",messages:n})}),t=await e.json(),o=t.choices?.[0]?.message?.content||"No response";n.push({role:"assistant",content:o}),i("assistant",o)}catch{i("assistant","Error contacting AI")}}}document.getElementById("polli-send").onclick=l,o.addEventListener("keydown",(n=>{"Enter"===n.key&&l()}));const s=document.getElementById("polli-header");let d,p,r=!1;s.onmousedown=n=>{r=!0,d=n.clientX-e.offsetLeft,p=n.clientY-e.offsetTop,document.onmousemove=n=>{r&&(e.style.left=n.clientX-d+"px",e.style.top=n.clientY-p+"px")},document.onmouseup=()=>{r=!1,document.onmousemove=null}}}()}document.addEventListener("keydown",(function(n){n.ctrlKey&&"3"===n.key&&(n.preventDefault(),e())}))}();
