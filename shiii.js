!function(){if(window.__polliInjected)return;window.__polliInjected=!0;let e=[{role:"system",content:"give very concice responses without markdown."}];function t(){const t=document.getElementById("polli-chat-widget");t?t.remove():function(){if(document.getElementById("polli-chat-widget"))return;const t=document.createElement("div");t.id="polli-chat-widget",t.style.position="fixed",t.style.top="120px",t.style.left="120px",t.style.width="380px",t.style.height="500px",t.style.background="#fff",t.style.border="1px solid #000",t.style.display="flex",t.style.flexDirection="column",t.style.zIndex="999999",t.style.fontFamily="Arial, sans-serif",t.style.color="#000",t.innerHTML='\n<style>\n#polli-chat{display:flex;flex-direction:column;width:100%;height:100%;font-family:sans-serif}\n#polli-chat *{border-radius:0!important}\n#polli-header{padding:8px;border-bottom:1px solid #000;cursor:move;font-weight:bold;display:flex;justify-content:space-between}\n#polli-close{cursor:pointer}\n#polli-messages{flex:1;padding:8px;overflow:auto;font-size:14px}\n#polli-input-row{display:flex;border-top:1px solid #000}\n#polli-input{flex:1;border:none;border-right:1px solid #000;padding:8px;outline:none;color:#000}\n#polli-send{border:none;padding:8px 12px;background:#fff;color:#000;cursor:pointer}\n</style>\n<div id="polli-chat">\n  <div id="polli-header">\n    AI Chat\n    <span id="polli-close">Ã—</span>\n  </div>\n  <div id="polli-messages"></div>\n  <div id="polli-input-row">\n    <input id="polli-input" placeholder="Type..." />\n    <button id="polli-send">Send</button>\n  </div>\n</div>\n',document.body.appendChild(t),document.getElementById("polli-close").onclick=()=>t.remove();const n=document.getElementById("polli-messages"),o=document.getElementById("polli-input");function l(e,t){const o=document.createElement("div");o.style.marginBottom="6px",o.innerHTML="<b>"+("user"===e?"You":"AI")+":</b> "+t,n.appendChild(o),n.scrollTop=n.scrollHeight}async function i(){const t=o.value.trim();if(t){l("user",t),e.push({role:"user",content:t}),o.value="";try{const t=await fetch("https://text.pollinations.ai/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"openai",messages:e})}),n=await t.json(),o=n.choices?.[0]?.message?.content||"No response";e.push({role:"assistant",content:o}),l("assistant",o)}catch{l("assistant","Error contacting AI")}}}document.getElementById("polli-send").onclick=i,o.addEventListener("keydown",(e=>{"Enter"===e.key&&i()}));const s=document.getElementById("polli-header");let d,p,c=!1;s.onmousedown=e=>{c=!0,d=e.clientX-t.offsetLeft,p=e.clientY-t.offsetTop,document.onmousemove=e=>{c&&(t.style.left=e.clientX-d+"px",t.style.top=e.clientY-p+"px")},document.onmouseup=()=>{c=!1,document.onmousemove=null}}}()}document.addEventListener("keydown",(function(e){e.ctrlKey&&"3"===e.key&&(e.preventDefault(),t())})),console.log("Polli chat injected. Use Ctrl+3 to toggle.")}();
